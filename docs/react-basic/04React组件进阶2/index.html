<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-react-basic/04React组件进阶2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">React组件进阶(二) | Zxx的博客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://janzhou123.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://janzhou123.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://janzhou123.github.io/docs/react-basic/04React组件进阶2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="React组件进阶(二) | Zxx的博客"><meta data-rh="true" name="description" content="组件生命周期（★★★）"><meta data-rh="true" property="og:description" content="组件生命周期（★★★）"><link data-rh="true" rel="icon" href="/img/favicon.webp"><link data-rh="true" rel="canonical" href="https://janzhou123.github.io/docs/react-basic/04React组件进阶2"><link data-rh="true" rel="alternate" href="https://janzhou123.github.io/docs/react-basic/04React组件进阶2" hreflang="en"><link data-rh="true" rel="alternate" href="https://janzhou123.github.io/docs/react-basic/04React组件进阶2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Zxx的博客 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Zxx的博客 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.3c498e46.css">
<link rel="preload" href="/assets/js/runtime~main.c3aff15a.js" as="script">
<link rel="preload" href="/assets/js/main.e520519d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="博客" class="themedImage_ToTc themedImage--light_HNdA" style="border-radius:50%"><img src="/img/logo.webp" alt="博客" class="themedImage_ToTc themedImage--dark_i4oU" style="border-radius:50%"></div><b class="navbar__title text--truncate">Zxx的博客</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">笔记</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/janzhou123" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">笔记介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/nestjs-docs-v9/Introduction">Nestjs官方文档v9[译]</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/react-basic/00Introduction">React学习笔记</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react-basic/00Introduction">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react-basic/01React基本使用">React基本使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react-basic/02React组件">React组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react-basic/03React组件进阶">React组件进阶(一)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/react-basic/04React组件进阶2">React组件进阶(二)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pattern/singleton">设计模式</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">React学习笔记</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">React组件进阶(二)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="组件生命周期">组件生命周期（★★★）<a href="#组件生命周期" class="hash-link" aria-label="Direct link to 组件生命周期（★★★）" title="Direct link to 组件生命周期（★★★）">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a href="#概述" class="hash-link" aria-label="Direct link to 概述" title="Direct link to 概述">​</a></h3><p>意义：组件的生命周期有助于理解组件的运行方式，完成更复杂的组件功能、分析组件错误原因等</p><p>组件的生命周期： 组件从被创建到挂载到页面中运行，再到组件不在时卸载的过程</p><p>生命周期的每个阶段总是伴随着一些方法调用，这些方法就是生命周期的钩子函数</p><p>构造函数的作用：为开发人员在不同阶段操作组件提供了实际</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="生命周期阶段">生命周期阶段<a href="#生命周期阶段" class="hash-link" aria-label="Direct link to 生命周期阶段" title="Direct link to 生命周期阶段">​</a></h3><p><img loading="lazy" src="/assets/images/生命周期-a142e01a245878860727cc3d0a4c2a95.png" width="800" height="407" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建时挂载阶段">创建时（挂载阶段）<a href="#创建时挂载阶段" class="hash-link" aria-label="Direct link to 创建时（挂载阶段）" title="Direct link to 创建时（挂载阶段）">​</a></h4><ul><li>执行时机：组件创建时（页面加载时）</li><li>执行顺序</li></ul><p><img loading="lazy" src="/assets/images/创建时-函数执行顺序-f04e1d014c95a8775f96ef8c93a456ce.png" width="1080" height="108" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/创建时-函数的作用-35391fdd4ae1a12d110c1a233ed219af.png" width="1046" height="334" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="更新时">更新时<a href="#更新时" class="hash-link" aria-label="Direct link to 更新时" title="Direct link to 更新时">​</a></h4><p>执行时机：<code>setState()、 forceUpdate()、 组件接收到新的props</code></p><p>说明：以上三者任意一种变化，组件就会重新渲染</p><p>执行顺序：</p><p><img loading="lazy" src="/assets/images/更新时-f54ed4d456702badc3fbb78ee3c357b1.png" width="690" height="101" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/更新时-函数作用-f4f9d0a265406dee5be14aa0bffb21fd.png" width="1071" height="292" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="卸载时">卸载时<a href="#卸载时" class="hash-link" aria-label="Direct link to 卸载时" title="Direct link to 卸载时">​</a></h4><p>执行时机：组件从页面中消失</p><p>作用：用来做清理操作</p><p><img loading="lazy" src="/assets/images/卸载时-dce7300440e73eb3ea191c8cf1fca2e4.png" width="1085" height="167" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="不常用的钩子函数">不常用的钩子函数<a href="#不常用的钩子函数" class="hash-link" aria-label="Direct link to 不常用的钩子函数" title="Direct link to 不常用的钩子函数">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="旧版的生命周期钩子函数">旧版的生命周期钩子函数<a href="#旧版的生命周期钩子函数" class="hash-link" aria-label="Direct link to 旧版的生命周期钩子函数" title="Direct link to 旧版的生命周期钩子函数">​</a></h5><p><img loading="lazy" src="/assets/images/旧版生命周期函数-bca9743b46c98bcbc62b8ff26b7decc4.png" width="856" height="920" class="img_ev3q"></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="新版完整生命会走棋钩子函数">新版完整生命会走棋钩子函数<a href="#新版完整生命会走棋钩子函数" class="hash-link" aria-label="Direct link to 新版完整生命会走棋钩子函数" title="Direct link to 新版完整生命会走棋钩子函数">​</a></h5><p><img loading="lazy" src="/assets/images/新版生命周期函数-c3eebabbb4b22f6eb314f8218154358f.png" width="758" height="553" class="img_ev3q"></p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="getderivedstatefromprops"><code>getDerivedStateFromProps()</code><a href="#getderivedstatefromprops" class="hash-link" aria-label="Direct link to getderivedstatefromprops" title="Direct link to getderivedstatefromprops">​</a></h6><ul><li><strong><code>getDerivedStateFromProps</code></strong> 会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。它应返回一个对象来更新 state，如果返回 null 则不更新任何内容</li><li>不管原因是什么，都会在<em>每次</em>渲染前触发此方法</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="shouldcomponentupdate"><code>shouldComponentUpdate()</code><a href="#shouldcomponentupdate" class="hash-link" aria-label="Direct link to shouldcomponentupdate" title="Direct link to shouldcomponentupdate">​</a></h6><ul><li>根据 <strong><code>shouldComponentUpdate()</code></strong> 的返回值，判断 React 组件的输出是否受当前 state 或 props 更改的影响。默认行为是 state 每次发生变化组件都会重新渲染</li><li>当 props 或 state 发生变化时，<strong><code>shouldComponentUpdate()</code></strong> 会在渲染执行之前被调用。返回值默认为 true</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="getsnapshotbeforeupdate"><code>getSnapshotBeforeUpdate()</code><a href="#getsnapshotbeforeupdate" class="hash-link" aria-label="Direct link to getsnapshotbeforeupdate" title="Direct link to getsnapshotbeforeupdate">​</a></h6><ul><li><strong><code>getSnapshotBeforeUpdate()</code></strong> 在最近一次渲染输出（提交到 DOM 节点）之前调用。它使得组件能在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置）。此生命周期的任何返回值将作为参数传递给 <strong><code>componentDidUpdate()</code></strong></li><li>此用法并不常见，但它可能出现在 UI 处理中，如需要以特殊方式处理滚动位置的聊天线程等</li></ul><h1>render-props 模式 （★★★）</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react-组件复用概述">React 组件复用概述<a href="#react-组件复用概述" class="hash-link" aria-label="Direct link to React 组件复用概述" title="Direct link to React 组件复用概述">​</a></h2><ul><li>思考：如果两个组件中的部分功能相似或相同，该如何处理？</li><li>处理方式：复用相似的功能</li><li>复用什么？<ul><li>state</li><li>操作 state 的方法</li></ul></li><li>两种方式：<ul><li>render props 模式</li><li>高阶组件（HOC）</li></ul></li><li>注意： 这两种方式不是新的 API，而是利用 React 自身特点的编码技巧，演化而成的固定模式</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="思路分析">思路分析<a href="#思路分析" class="hash-link" aria-label="Direct link to 思路分析" title="Direct link to 思路分析">​</a></h3><ul><li><p>思路：将要复用的 state 和操作 state 的方法封装到一个组件中</p></li><li><p>如何拿到该组件中复用的 state</p><ul><li><p>在使用组件时，添加一个值为函数的 prop，通过函数参数来获取</p><p><img loading="lazy" src="data:image/png;base64,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" width="617" height="51" class="img_ev3q"></p></li></ul></li><li><p>如何渲染到任意的 UI</p><ul><li><p>使用该函数的返回值作为要渲染的 UI 内容</p><p><img loading="lazy" src="/assets/images/render-props-02-845021ab691a6c87e7682111fe66e61a.png" width="715" height="117" class="img_ev3q"></p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用步骤">使用步骤<a href="#使用步骤" class="hash-link" aria-label="Direct link to 使用步骤" title="Direct link to 使用步骤">​</a></h3><ul><li>创建 Mouse 组件，在组件中提供复用的逻辑代码</li><li>将要复用的状态作为 props.render(state)方法的参数，暴露到组件外部</li><li>使用 props.render() 的返回值作为要渲染的内容</li></ul><p><img loading="lazy" src="/assets/images/render-props模式-01-9ff597aa54416d473052be4be538c284.png" width="955" height="322" class="img_ev3q"></p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Mouse</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 鼠标位置状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 监听鼠标移动事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mousemove&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">handleMouseMove</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">handleMouseMove</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 向外界提供当前子组件里面的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        App</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Mouse</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">render</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript parameter" style="color:#00009f">mouse</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript keyword control-flow" style="color:#00009f">return</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&lt;</span><span class="token tag script language-javascript tag" style="color:#00009f">p</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&gt;</span><span class="token tag script language-javascript plain-text" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript plain-text" style="color:#00009f">                X</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">mouse</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">x</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript plain-text" style="color:#00009f">Y</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">mouse</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">y</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript plain-text" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript plain-text" style="color:#00009f">              </span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag script language-javascript tag" style="color:#00009f">p</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&gt;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">          </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">App</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="children-代替-render-属性">children 代替 render 属性<a href="#children-代替-render-属性" class="hash-link" aria-label="Direct link to children 代替 render 属性" title="Direct link to children 代替 render 属性">​</a></h3><ul><li>注意：并不是该模式叫 render props 就必须使用名为 render 的 prop，实际上可以使用任意名称的 prop</li><li>把 prop 是一个函数并且告诉组件要渲染什么内容的技术叫做： render props 模式</li><li>推荐：使用 childre 代替 render 属性</li></ul><p><img loading="lazy" src="data:image/png;base64,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" width="570" height="164" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="优化代码">优化代码<a href="#优化代码" class="hash-link" aria-label="Direct link to 优化代码" title="Direct link to 优化代码">​</a></h3><ul><li>推荐给 render props 模式添加 props 校验</li></ul><p><img loading="lazy" src="data:image/png;base64,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" width="687" height="109" class="img_ev3q"></p><ul><li></li></ul><p><img loading="lazy" src="data:image/png;base64,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" width="732" height="105" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="高阶组件-">高阶组件 （★★★）<a href="#高阶组件-" class="hash-link" aria-label="Direct link to 高阶组件 （★★★）" title="Direct link to 高阶组件 （★★★）">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述-1">概述<a href="#概述-1" class="hash-link" aria-label="Direct link to 概述" title="Direct link to 概述">​</a></h3><ul><li>目的：实现状态逻辑复用</li><li>采用 包装模式</li><li>手机：获取保护功能</li><li>手机壳：提供保护功能</li><li>高阶组件就相当于手机壳，通过包装组件，增强组件功能</li></ul><p><img loading="lazy" src="/assets/images/手机壳-c667d0945c68e0a99eee4eaab716e221.png" width="578" height="318" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="思路分析-1">思路分析<a href="#思路分析-1" class="hash-link" aria-label="Direct link to 思路分析" title="Direct link to 思路分析">​</a></h3><ul><li>高阶组件(HOC、Higher-Order Component) 是一个函数，接收要包装的组件，返回增强后的组件</li></ul><p><img loading="lazy" src="/assets/images/高阶组件-函数-629312582cf4ba8d27cc3752506310f5.png" width="751" height="48" class="img_ev3q"></p><ul><li>高阶组件内部创建了一个类组件，在这个类组件中提供复用的状态逻辑代码，通过 prop 将复用的状态传递给被包装组件<code>WrappedComponent</code></li></ul><p><img loading="lazy" src="/assets/images/高阶组件-类组件内部实现-84d1886c19a501aa3a9e31f38b3efd49.png" width="696" height="245" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用步骤-1">使用步骤<a href="#使用步骤-1" class="hash-link" aria-label="Direct link to 使用步骤" title="Direct link to 使用步骤">​</a></h3><ul><li>创建一个函数，名称约定以 with 开头</li><li>指定函数参数，参数应该以大写字母开头</li><li>在函数内部创建一个类组件，提供复用的状态逻辑代码，并返回</li><li>在该组件中，渲染参数组件，同时将状态通过 prop 传递给参数组件</li><li>调用该高阶组件，传入要增强的组件，通过返回值拿到增强后的组件，并将其渲染到页面</li></ul><p><strong>包装函数</strong></p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个函数，在函数内部创建一个相应类组件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">withMouse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter maybe-class-name">WrappedComponent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 该组件提供复用状态逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Mouse</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 事件的处理函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">handleMouseMove</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 当组件挂载的时候进行事件绑定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mousemove&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">handleMouseMove</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 当组件移除时候解绑事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentWillUnmount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mousemove&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">handleMouseMove</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 在render函数里面返回传递过来的组件，把当前组件的状态设置进去</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">WrappedComponent</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread keyword" style="color:#00009f">this</span><span class="token tag spread punctuation" style="color:#393A34">.</span><span class="token tag spread property-access" style="color:#00009f">state</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">Mouse</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>哪个组件需要加强，通过调用<code>withMouse</code>这个函数，然后把返回的值设置到父组件中即可</strong></p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      X:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      Y:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 把position 组件来进行包装</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token maybe-class-name">MousePosition</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">withMouse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Position</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        高阶组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">MousePosition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">MousePosition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置displayname">设置<code>displayName</code><a href="#设置displayname" class="hash-link" aria-label="Direct link to 设置displayname" title="Direct link to 设置displayname">​</a></h3><ul><li>使用高阶组件存在的问题：得到两个组件的名称相同</li><li>原因：默认情况下，React 使用组件名称作为<code>displayName</code></li><li>解决方式：为高阶组件设置<code>displayName</code>，便于调试时区分不同的组件</li><li><code>displayName的作用：用于设置调试信息(React Developer Tools信息)</code></li><li>设置方式：</li></ul><p><img loading="lazy" src="/assets/images/高阶组件-displayName-54024ff27113461cd405f92f9dcf358c.png" width="1035" height="210" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="传递-props">传递 props<a href="#传递-props" class="hash-link" aria-label="Direct link to 传递 props" title="Direct link to 传递 props">​</a></h3><ul><li>问题：如果没有传递 props，会导致 props 丢失问题</li><li>解决方式： 渲染<code>WrappedComponent</code>时，将 state 和 props 一起传递给组件</li></ul><p><img loading="lazy" src="/assets/images/传递props-ba27d48e87e4c8ed9ccac63885fd3a6e.png" width="839" height="63" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>小结</div><div class="admonitionContent_S0QG"><ul><li>组件通讯是构建 React 应用必不可少的一环</li><li>props 的灵活性让组件更加强大</li><li>状态提升是 React 组件的常用模式</li><li>组件生命周期有助于理解组件的运行过程</li><li>钩子函数让开发者可以在特定的时机执行某些功能</li><li><code>render props</code> 模式和高阶组件都可以实现组件状态逻辑的复用</li><li>组件极简模型： <code>(state,props) =&gt; UI</code>
:::</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react-原理">React 原理<a href="#react-原理" class="hash-link" aria-label="Direct link to React 原理" title="Direct link to React 原理">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setstate说明-"><code>setState()</code>说明 （★★★）<a href="#setstate说明-" class="hash-link" aria-label="Direct link to setstate说明-" title="Direct link to setstate说明-">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="更新数据">更新数据<a href="#更新数据" class="hash-link" aria-label="Direct link to 更新数据" title="Direct link to 更新数据">​</a></h4><ul><li><code>setState()</code>更新数据是异步的</li><li>注意：使用该语法，后面的<code>setState</code>不要依赖前面<code>setState</code>的值</li><li>多次调用<code>setState</code>，只会触发一次 render</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="推荐语法">推荐语法<a href="#推荐语法" class="hash-link" aria-label="Direct link to 推荐语法" title="Direct link to 推荐语法">​</a></h4><ul><li>推荐：使用 <code>setState((state,props) =&gt; {})</code> 语法</li><li>参数 state： 表示最新的 state</li><li>参数 props： 表示最新的 props</li></ul><p><img loading="lazy" src="/assets/images/推荐语法-451ba046ad16e4cbe82aca38ccc39447.png" width="581" height="240" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="第二个参数">第二个参数<a href="#第二个参数" class="hash-link" aria-label="Direct link to 第二个参数" title="Direct link to 第二个参数">​</a></h4><ul><li>场景：在状态更新(页面完成重新渲染)后立即执行某个操作</li><li>语法：<code>setState(update[,callback])</code></li></ul><p><img loading="lazy" src="/assets/images/第二个参数-0323259502a21c56fd86828b92685387.png" width="838" height="171" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="jsx-语法的转化过程-">JSX 语法的转化过程 （★★★）<a href="#jsx-语法的转化过程-" class="hash-link" aria-label="Direct link to JSX 语法的转化过程 （★★★）" title="Direct link to JSX 语法的转化过程 （★★★）">​</a></h4><ul><li>JSX 仅仅是<code>createElement()</code> 方法的语法糖(简化语法)</li><li>JSX 语法被 @babel/preset-react 插件编译为<code>createElement()</code> 方法</li><li>React 元素： 是一个对象，用来描述你希望在屏幕上看到的内容</li></ul><p><img loading="lazy" src="/assets/images/语法糖-9159a42bde38e215bded59bd24064445.png" width="1308" height="535" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="组件更新机制">组件更新机制<a href="#组件更新机制" class="hash-link" aria-label="Direct link to 组件更新机制" title="Direct link to 组件更新机制">​</a></h3><ul><li><p>setState() 的两个作用</p><ul><li>修改 state</li><li>更新组件</li></ul></li><li><p>过程：父组件重新渲染时，也会重新渲染子组件，但只会渲染当前组件子树（当前组件以其所有子组件）</p></li></ul><p><img loading="lazy" src="/assets/images/组件更新-88f22c2e0d543df1cacf2f5e6aedea81.png" width="1286" height="455" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="组件性能优化">组件性能优化<a href="#组件性能优化" class="hash-link" aria-label="Direct link to 组件性能优化" title="Direct link to 组件性能优化">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="减轻-state">减轻 state<a href="#减轻-state" class="hash-link" aria-label="Direct link to 减轻 state" title="Direct link to 减轻 state">​</a></h4><ul><li>减轻 state：只存储跟组件渲染相关的数据（比如：count/ 列表数据 /loading 等）</li><li>注意：不用做渲染的数据不要放在 state 中</li><li>对于这种需要在多个方法中用到的数据，应该放到 this 中</li></ul><p><img loading="lazy" src="/assets/images/减轻state-f6152a6cb4a90707ea5b4505c04511e7.png" width="723" height="341" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="避免不必要的重新渲染">避免不必要的重新渲染<a href="#避免不必要的重新渲染" class="hash-link" aria-label="Direct link to 避免不必要的重新渲染" title="Direct link to 避免不必要的重新渲染">​</a></h4><ul><li>组件更新机制：父组件更新会引起子组件也被更新，这种思路很清晰</li><li>问题：子组件没有任何变化时也会重新渲染</li><li>如果避免不必要的重新渲染？</li><li>解决方式：使用钩子函数 shouldComponentUpdate(nextProps, nextState)<ul><li>在这个函数中，nextProps 和 nextState 是最新的状态以及属性</li></ul></li><li>作用：这个函数有返回值，如果返回 true，代表需要重新渲染，如果返回 false，代表不需要重新渲染</li><li>触发时机：更新阶段的钩子函数，组件重新渲染前执行(shouldComponentUpdate =&gt; render)</li></ul><p><img loading="lazy" src="/assets/images/shouldComponentUpdata-cff5a7424784f681b57f2f55b26fc0fd.png" width="476" height="289" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="随机数案例">随机数案例<a href="#随机数案例" class="hash-link" aria-label="Direct link to 随机数案例" title="Direct link to 随机数案例">​</a></h4><p>需求：随机生成数字，显示在页面，如果生成的数字与当前显示的数字相同，那么就不需要更新 UI，反之更新 UI。</p><p>利用 nextState 参数来判断当前组件是否需要更新</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 点击事件，每次点击生成一个随机数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">hanldeBtn</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 将要更新UI的时候会执行这个钩子函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">shouldComponentUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">nextProps</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> nextState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 判断一下当前生成的 值是否与页面的值相等</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nextState</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        随机数：</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">hanldeBtn</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">生成随机数</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>利用 props 参数来判断是否需要进行更新</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 点击事件，每次点击生成一个随机数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">hanldeBtn</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">NumberBox</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">number</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">state</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">number</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">hanldeBtn</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">生成随机数</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">NumberBox</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 将要更新UI的时候会执行这个钩子函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">shouldComponentUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">nextProps</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> nextState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 判断一下当前生成的 值是否与页面的值相等</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nextProps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">随机数：</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="纯组件">纯组件<a href="#纯组件" class="hash-link" aria-label="Direct link to 纯组件" title="Direct link to 纯组件">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="作用以及使用">作用以及使用<a href="#作用以及使用" class="hash-link" aria-label="Direct link to 作用以及使用" title="Direct link to 作用以及使用">​</a></h4><ul><li>纯组件： PureComponent 与 React.Component 功能相似</li><li>区别： PureComponent 内部自动实现了 shouldComponentUpdate 钩子，不需要手动比较</li><li>原理：纯组件内部通过分别比对前后两次 props 和 state 的值，来决定是否重新渲染组件</li></ul><p><img loading="lazy" src="/assets/images/PureComponent-041129a136a2f8f45c3db2dab28b177e.png" width="653" height="231" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实现原理">实现原理<a href="#实现原理" class="hash-link" aria-label="Direct link to 实现原理" title="Direct link to 实现原理">​</a></h4><ul><li>说明：纯组件内部的对比是 shallow compare（浅层对比）</li><li>对于值类型来说：比较两个值是否相同</li></ul><p><img loading="lazy" src="/assets/images/值类型比对-0b37d769602f6321f8f2dbf3dde2b4e0.png" width="630" height="156" class="img_ev3q"></p><ul><li>引用类型：只比对对象的引用地址是否相同</li></ul><p><img loading="lazy" src="/assets/images/引用类型比对-204112c65bb0772664a39778257b13e2.png" width="589" height="160" class="img_ev3q"></p><ul><li>注意：state 或 props 中属性值为引用类型时，应该创建新数据，不要直接修改原数据</li></ul><p><img loading="lazy" src="/assets/images/注意点-39220373a12a49deeb7600f471f8ced0.png" width="718" height="395" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="虚拟-dom-和-diff-算法">虚拟 DOM 和 Diff 算法<a href="#虚拟-dom-和-diff-算法" class="hash-link" aria-label="Direct link to 虚拟 DOM 和 Diff 算法" title="Direct link to 虚拟 DOM 和 Diff 算法">​</a></h3><ul><li>React 更新视图的思想是：只要 state 变化就重新渲染视图</li><li>特点：思路非常清晰</li><li>问题：组件中只有一个 DOM 元素需要更新时，也得把整个组件的内容重新渲染吗？ 不是这样的</li><li>理想状态：部分更新，只更新变化的地方</li><li>React 运用的核心点就是 虚拟 DOM 配合 Diff 算法</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="虚拟-dom">虚拟 DOM<a href="#虚拟-dom" class="hash-link" aria-label="Direct link to 虚拟 DOM" title="Direct link to 虚拟 DOM">​</a></h4><p>本质上就是一个 JS 对象，用来描述你希望在屏幕上看到的内容</p><p><img loading="lazy" src="/assets/images/虚拟DOM-ae074a78a9e041fb40cbcebd2f204568.png" width="1010" height="409" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="diff-算法">Diff 算法<a href="#diff-算法" class="hash-link" aria-label="Direct link to Diff 算法" title="Direct link to Diff 算法">​</a></h4><p>执行过程</p><ul><li>初次渲染时，React 会根据初始化的 state（model），创建一个虚拟 DOM 对象（树）</li><li>根据虚拟 DOM 生成真正的 DOM，渲染到页面</li><li>当数据变化后(setState())，会重新根据新的数据，创建新的虚拟 DOM 对象（树）</li><li>与上一次得到的虚拟 DOM 对象，使用 Diff 算法比对（找不同），得到需要更新的内容</li><li>最终，React 只将变化的内容更新（patch）到 DOM 中，重新渲染到页面</li></ul><p><img loading="lazy" src="/assets/images/diff算法-4d69ea3aab6b75c75891dbb31ae99da2.png" width="1327" height="374" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="代码演示">代码演示<a href="#代码演示" class="hash-link" aria-label="Direct link to 代码演示" title="Direct link to 代码演示">​</a></h4><ul><li>组件 render()调用后，根据状态和 JSX 结构生成虚拟 DOM 对象(render()方法的调用并不意味着浏览器进行渲染，render 方法调用时意味着 Diff 算法开始比对了)</li><li>示例中，只更新 p 元素的文本节点内容</li><li>初次渲染的 DOM 对象</li></ul><p><img loading="lazy" src="/assets/images/初次的虚拟DOM对象-14ef0ef071bc9dd3b67f6a1940fbd524.png" width="805" height="349" class="img_ev3q"></p><ul><li>数据更新之后的虚拟 DOM 对象</li></ul><p><img loading="lazy" src="/assets/images/更新后的虚拟DOM对象-b6d0950a410a766d09e2cb8ce987a93a.png" width="665" height="89" class="img_ev3q"></p></div></div><ul><li>工作角度：应用第一，原理第二</li><li>原理有助于更好的理解 React 的自身运行机制</li><li>setState() 异步更新数据</li><li>父组件更新导致子组件更新，纯组件提升性能</li><li>思路清晰简单为前提，虚拟 DOM 和 Diff 保效率（渲染变化的组件）</li><li>虚拟 DOM -&gt; state + JSX</li><li>虚拟 DOM 最大的特点是 脱离了浏览器的束缚，也就是意味着只要是能支持 js 的地方都可以用到 react，所以为什么说 react 是可以进行跨平台的开发
:::</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/react-basic/04React组件进阶2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/react-basic/03React组件进阶"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">React组件进阶(一)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pattern/singleton"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">单例模式 (Singleton Pattern)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#组件生命周期" class="table-of-contents__link toc-highlight">组件生命周期（★★★）</a><ul><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#生命周期阶段" class="table-of-contents__link toc-highlight">生命周期阶段</a></li></ul></li><li><a href="#react-组件复用概述" class="table-of-contents__link toc-highlight">React 组件复用概述</a><ul><li><a href="#思路分析" class="table-of-contents__link toc-highlight">思路分析</a></li><li><a href="#使用步骤" class="table-of-contents__link toc-highlight">使用步骤</a></li><li><a href="#children-代替-render-属性" class="table-of-contents__link toc-highlight">children 代替 render 属性</a></li><li><a href="#优化代码" class="table-of-contents__link toc-highlight">优化代码</a></li></ul></li><li><a href="#高阶组件-" class="table-of-contents__link toc-highlight">高阶组件 （★★★）</a><ul><li><a href="#概述-1" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#思路分析-1" class="table-of-contents__link toc-highlight">思路分析</a></li><li><a href="#使用步骤-1" class="table-of-contents__link toc-highlight">使用步骤</a></li><li><a href="#设置displayname" class="table-of-contents__link toc-highlight">设置<code>displayName</code></a></li><li><a href="#传递-props" class="table-of-contents__link toc-highlight">传递 props</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">本站</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li></ul></div><div class="col footer__col"><div class="footer__title">我的</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/janzhou123" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">...</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Zhouxiaoxiao, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c3aff15a.js"></script>
<script src="/assets/js/main.e520519d.js"></script>
</body>
</html>